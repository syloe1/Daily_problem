这个题目关键在于 k 可能非常大 (≤ 10^15)，不能直接拼接字符串。需要用 分段统计 来解决。

思路解析

数字分为不同的位数段：

1 位数：1 ~ 9，一共 9 个数，贡献 9 个数字。

2 位数：10 ~ 99，一共 90 个数，贡献 180 个数字。

3 位数：100 ~ 999，一共 900 个数，贡献 2700 个数字。

…

d 位数：9 * 10^(d-1) 个数，贡献 d * 9 * 10^(d-1) 个数字。

我们先确定 k 落在哪一段。

依次减去每一段的数字总长度，直到 k 对应的段。

对于完整的某一段，可以用公式求和：

比如区间 [L, R] 的数，所有数字的和可以快速算出来。

我们需要一个函数 digit_sum(n)：返回 1 ~ n 的所有数的数字和。

然后答案就是 digit_sum(x) - digit_sum(L-1)。

剩下的不足一整个数的尾部，可以逐个数字计算。

关键函数：计算 1 到 n 的数字和

我们要写一个函数 digit_sum(n)，计算从 1 到 n 的所有数的数位和。
做法是 逐位枚举每个数位，统计这个数位的贡献。